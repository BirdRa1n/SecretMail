{"ast":null,"code":"import _extends2 from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\",\"index\",\"isDisabled\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React from'react';import Box from\"../../primitives/Box\";import{AccordionContext,AccordionItemContext}from\"./Context\";import{useThemeProps}from\"../../../hooks\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var AccordionItem=function AccordionItem(_ref,ref){var children=_ref.children,_ref$index=_ref.index,pIndex=_ref$index===void 0?0:_ref$index,isDisabled=_ref.isDisabled,props=_objectWithoutProperties(_ref,_excluded);var _React$useContext=React.useContext(AccordionContext),cIndex=_React$useContext.index,changeHandler=_React$useContext.changeHandler;var _useThemeProps=useThemeProps('AccordionItem',props),newProps=_extends2({},_useThemeProps);var isOpen=cIndex===null||cIndex===void 0?void 0:cIndex.includes(pIndex);var onClose=function onClose(cb){changeHandler&&changeHandler(false,pIndex);cb&&cb();};var onOpen=function onOpen(cb){changeHandler&&changeHandler(true,pIndex);cb&&cb();};var childSetter=function childSetter(){if(typeof children==='function')return children({isExpanded:isOpen,isDisabled:isDisabled});return children;};if(useHasResponsiveProps(props)){return null;}return React.createElement(AccordionItemContext.Provider,{value:{index:pIndex,isOpen:isOpen,isDisabled:isDisabled,onClose:onClose,onOpen:onOpen}},React.createElement(Box,_extends({},newProps,{ref:ref}),childSetter()));};export default React.memo(React.forwardRef(AccordionItem));","map":{"version":3,"sources":["AccordionItem.tsx"],"names":["AccordionItem","index","pIndex","props","changeHandler","React","newProps","useThemeProps","isOpen","cIndex","onClose","cb","onOpen","childSetter","children","isExpanded","isDisabled","useHasResponsiveProps","ref"],"mappings":"kdAAA,MAAA,CAAA,KAAA,KAAA,OAAA,CACA,MAAA,CAAA,GAAA,4BACA,OAAA,gBAAA,CAAA,oBAAA,iBAEA,OAAA,aAAA,sBACA,OAAA,qBAAA,4CAEA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAA,GAAA,CAGjB,IAFH,CAAA,QAEG,MAFH,QAEG,iBAFSC,KAET,CAFgBC,MAEhB,qBAFH,CAEG,YAFH,UAEG,MAFH,UAEG,CAF2CC,KAE3C,0CACH,sBAG4BE,KAAK,CAALA,UAAAA,CAH5B,gBAG4BA,CAH5B,CAAM,MAAN,mBACEJ,KADF,CAEEG,aAFF,mBAEEA,aAFF,CAIA,mBAAwBG,aAAa,CAAA,eAAA,CAArC,KAAqC,CAArC,CAAWD,QAAX,8BAEA,GAAME,CAAAA,MAAM,CAAGC,MAAH,GAAA,IAAGA,EAAAA,MAAH,GAAA,IAAA,EAAGA,CAAH,IAAA,EAAGA,CAAAA,MAAM,CAANA,QAAAA,CAAf,MAAeA,CAAf,CACA,GAAMC,CAAAA,OAAO,CAAIC,QAAXD,CAAAA,OAAWC,CAAAA,EAAD,CAAqB,CACnCP,aAAa,EAAIA,aAAa,CAAA,KAAA,CAA9BA,MAA8B,CAA9BA,CACAO,EAAE,EAAIA,EAANA,EAAAA,CAFF,CAAA,CAIA,GAAMC,CAAAA,MAAM,CAAID,QAAVC,CAAAA,MAAUD,CAAAA,EAAD,CAAqB,CAClCP,aAAa,EAAIA,aAAa,CAAA,IAAA,CAA9BA,MAA8B,CAA9BA,CACAO,EAAE,EAAIA,EAANA,EAAAA,CAFF,CAAA,CAIA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,MAAA,CAAA,QAAA,GAAJ,UAAA,CACE,MAAOC,CAAAA,QAAQ,CAAC,CAAEC,UAAU,CAAZ,MAAA,CAAsBC,UAAAA,CAAAA,UAAtB,CAAD,CAAf,CACF,MAAA,CAAA,QAAA,CAnBC,CAgBH,CAMA,GAAIC,qBAAqB,CAAzB,KAAyB,CAAzB,CAAkC,CAChC,MAAA,KAAA,CACD,CACD,MACE,CAAA,KAAA,CAAA,aAAA,CAAC,oBAAD,CAAA,QAAA,CAAA,CACE,KAAK,CAAE,CACLhB,KAAK,CADA,MAAA,CAELO,MAFK,CAELA,MAFK,CAGLQ,UAHK,CAGLA,UAHK,CAILN,OAJK,CAILA,OAJK,CAKLE,MAAAA,CAAAA,MALK,CADT,CAAA,CASE,KAAA,CAAA,aAAA,CAAA,GAAA,CAAA,QAAA,CAAA,EAAA,CAAA,QAAA,CAAA,CAAmB,GAAG,CAAEM,GAAxB,CAAA,CAAA,CACGL,WAXP,EAUI,CATF,CADF,CA5BF,CAAA,CA6CA,cAAeR,CAAAA,KAAK,CAALA,IAAAA,CAAWA,KAAK,CAALA,UAAAA,CAA1B,aAA0BA,CAAXA,CAAf","sourcesContent":["import React from 'react';\nimport Box from '../../primitives/Box';\nimport { AccordionContext, AccordionItemContext } from './Context';\nimport type { IAccordionItemProps, IAccordionContextProps } from './types';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst AccordionItem = (\n  { children, index: pIndex = 0, isDisabled, ...props }: IAccordionItemProps,\n  ref?: any\n) => {\n  const {\n    index: cIndex,\n    changeHandler,\n  }: IAccordionContextProps = React.useContext(AccordionContext);\n  const { ...newProps } = useThemeProps('AccordionItem', props);\n\n  const isOpen = cIndex?.includes(pIndex);\n  const onClose = (cb?: () => void) => {\n    changeHandler && changeHandler(false, pIndex);\n    cb && cb();\n  };\n  const onOpen = (cb?: () => void) => {\n    changeHandler && changeHandler(true, pIndex);\n    cb && cb();\n  };\n  const childSetter = () => {\n    if (typeof children === 'function')\n      return children({ isExpanded: isOpen, isDisabled });\n    return children;\n  };\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n  return (\n    <AccordionItemContext.Provider\n      value={{\n        index: pIndex,\n        isOpen,\n        isDisabled,\n        onClose,\n        onOpen,\n      }}\n    >\n      <Box {...newProps} ref={ref}>\n        {childSetter()}\n      </Box>\n    </AccordionItemContext.Provider>\n  );\n};\n\nexport default React.memo(React.forwardRef(AccordionItem));\n"]},"metadata":{},"sourceType":"module"}