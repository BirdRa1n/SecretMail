{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React from'react';import{default as Box}from\"../components/primitives/Box\";import{ResponsiveQueryContext}from\"./useResponsiveQuery/ResponsiveQueryProvider\";function flattenChildren(children){var childrenArray=React.Children.toArray(children);return childrenArray.reduce(function(flatChildren,child){if(child.type===React.Fragment){return flatChildren.concat(flattenChildren(child.props.children));}flatChildren.push(child);return flatChildren;},[]);}var getSpacedChildren=function getSpacedChildren(children,space,axis,reverse,divider){var childrenArray=React.Children.toArray(flattenChildren(children));childrenArray=reverse==='reverse'?_toConsumableArray(childrenArray).reverse():childrenArray;var orientation=axis==='X'?'vertical':'horizontal';var responsiveQueryContext=React.useContext(ResponsiveQueryContext);var disableCSSMediaQueries=responsiveQueryContext.disableCSSMediaQueries;if(divider){var spacingProp=_objectSpread({},axis==='X'?{mx:space}:{my:space});divider=React.cloneElement(divider,_objectSpread({orientation:orientation},spacingProp));childrenArray=childrenArray.map(function(child,index){var _child$key;return React.createElement(React.Fragment,{key:(_child$key=child.key)!==null&&_child$key!==void 0?_child$key:\"spaced-child-\".concat(index)},child,index<childrenArray.length-1&&divider);});}else{var _spacingProp=_objectSpread({},axis==='X'?{width:space}:{height:space});childrenArray=childrenArray.map(function(child,index){var _child$key2;return React.createElement(React.Fragment,{key:(_child$key2=child.key)!==null&&_child$key2!==void 0?_child$key2:\"spaced-child-\".concat(index)},child,disableCSSMediaQueries?index<childrenArray.length-1&&React.createElement(Box,_spacingProp):React.createElement(React.Fragment,null));});}return childrenArray;};export default getSpacedChildren;","map":{"version":3,"sources":["getSpacedChildren.tsx"],"names":["default","childrenArray","React","child","flatChildren","flattenChildren","getSpacedChildren","reverse","orientation","axis","responsiveQueryContext","disableCSSMediaQueries","spacingProp","mx","space","my","divider","index","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { default as Box } from '../components/primitives/Box';\nimport type { SpaceType as ThemeSpaceType } from '../components/types';\nimport { ResponsiveQueryContext } from './useResponsiveQuery/ResponsiveQueryProvider';\n\ntype SpaceType =\n  | 'gutter'\n  | '2xs'\n  | 'xs'\n  | 'sm'\n  | 'md'\n  | 'lg'\n  | 'xl'\n  | '2xl'\n  | ThemeSpaceType;\n\n// Thanks @gregberge for code and @nandorojo for suggestion.\n// Original source: https://github.com/gregberge/react-flatten-children\ntype ReactChildArray = ReturnType<typeof React.Children.toArray>;\nfunction flattenChildren(children: React.ReactNode): ReactChildArray {\n  const childrenArray = React.Children.toArray(children);\n  return childrenArray.reduce((flatChildren: ReactChildArray, child) => {\n    if ((child as React.ReactElement<any>).type === React.Fragment) {\n      return flatChildren.concat(\n        flattenChildren((child as React.ReactElement<any>).props.children)\n      );\n    }\n    flatChildren.push(child);\n    return flatChildren;\n  }, []);\n}\n\nconst getSpacedChildren = (\n  children: JSX.Element[] | JSX.Element,\n  space: undefined | SpaceType,\n  axis: 'X' | 'Y',\n  reverse: string,\n  divider: JSX.Element | undefined\n): any => {\n  let childrenArray = React.Children.toArray(flattenChildren(children));\n  childrenArray =\n    reverse === 'reverse' ? [...childrenArray].reverse() : childrenArray;\n\n  const orientation = axis === 'X' ? 'vertical' : 'horizontal';\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const responsiveQueryContext = React.useContext(ResponsiveQueryContext);\n  const disableCSSMediaQueries = responsiveQueryContext.disableCSSMediaQueries;\n\n  // If there's a divider, we wrap it with a Box and apply vertical and horizontal margins else we add a spacer Box with height or width\n  if (divider) {\n    const spacingProp: object = {\n      ...(axis === 'X' ? { mx: space } : { my: space }),\n    };\n\n    divider = React.cloneElement(divider, {\n      orientation,\n      ...spacingProp,\n    });\n\n    childrenArray = childrenArray.map((child: any, index: number) => {\n      return (\n        <React.Fragment key={child.key ?? `spaced-child-${index}`}>\n          {child}\n          {index < childrenArray.length - 1 && divider}\n        </React.Fragment>\n      );\n    });\n  } else {\n    const spacingProp: object = {\n      ...(axis === 'X' ? { width: space } : { height: space }),\n    };\n    childrenArray = childrenArray.map((child: any, index: number) => {\n      return (\n        <React.Fragment key={child.key ?? `spaced-child-${index}`}>\n          {child}\n          {disableCSSMediaQueries ? (\n            index < childrenArray.length - 1 && <Box {...spacingProp} />\n          ) : (\n            <></>\n          )}\n        </React.Fragment>\n      );\n    });\n  }\n\n  return childrenArray;\n};\n\nexport default getSpacedChildren;\n"]},"metadata":{},"sourceType":"module"}