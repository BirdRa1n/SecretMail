{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import cloneDeep from'lodash.clonedeep';import React from'react';import PresenceTransition from\"./PresenceTransition\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var defaultStaggerConfig={offset:0,reverse:false};var Stagger=function Stagger(_ref){var children=_ref.children,restProps=_objectWithoutProperties(_ref,_excluded);if(useHasResponsiveProps(restProps)){return null;}return React.Children.map(children,function(child,index){var clonedAnimationConfig=cloneDeep(restProps);var animate=clonedAnimationConfig.animate,exit=clonedAnimationConfig.exit;if(animate){var _animate$transition$d,_animate$transition$s;if(!animate.transition){animate.transition={};}animate.transition.delay=(_animate$transition$d=animate.transition.delay)!==null&&_animate$transition$d!==void 0?_animate$transition$d:0;var stagger=(_animate$transition$s=animate.transition.stagger)!==null&&_animate$transition$s!==void 0?_animate$transition$s:defaultStaggerConfig;var offset=stagger.reverse?(React.Children.count(children)-1-index)*stagger.offset:index*stagger.offset;animate.transition.delay=animate.transition.delay+offset;}if(exit){var _exit$transition$dela,_exit$transition$stag;if(!exit.transition){exit.transition={};}exit.transition.delay=(_exit$transition$dela=exit.transition.delay)!==null&&_exit$transition$dela!==void 0?_exit$transition$dela:0;var _stagger=(_exit$transition$stag=exit.transition.stagger)!==null&&_exit$transition$stag!==void 0?_exit$transition$stag:defaultStaggerConfig;var _offset=_stagger.reverse?(React.Children.count(children)-1-index)*_stagger.offset:index*_stagger.offset;exit.transition.delay=exit.transition.delay+_offset;}return React.createElement(PresenceTransition,_extends({key:child.key},clonedAnimationConfig),child);});};export default Stagger;","map":{"version":3,"sources":["Stagger.tsx"],"names":["defaultStaggerConfig","offset","reverse","Stagger","restProps","useHasResponsiveProps","clonedAnimationConfig","cloneDeep","exit","animate","stagger","React","index","child","key"],"mappings":"uYAAA,MAAA,CAAA,SAAA,KAAA,kBAAA,CACA,MAAA,CAAA,KAAA,KAAA,OAAA,CACA,MAAA,CAAA,kBAAA,4BAEA,OAAA,qBAAA,4CA+BA,GAAMA,CAAAA,oBAAoC,CAAG,CAAEC,MAAM,CAAR,CAAA,CAAaC,OAAO,CAAE,KAAtB,CAA7C,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA+C,IAA9C,CAAA,QAA8C,MAA9C,QAA8C,CAA/BC,SAA+B,0CAE7D,GAAIC,qBAAqB,CAAzB,SAAyB,CAAzB,CAAsC,CACpC,MAAA,KAAA,CACD,CACD,MAAO,CAAA,KAAK,CAAL,QAAA,CAAA,GAAA,CAAA,QAAA,CAA6B,SAAA,KAAA,CAAA,KAAA,CAAkB,CACpD,GAAMC,CAAAA,qBAAqB,CAAGC,SAAS,CAAvC,SAAuC,CAAvC,CACA,GAAM,CAAA,OAAN,CAAA,qBAAA,CAAM,OAAN,CAAiBC,IAAjB,CAAA,qBAAA,CAAiBA,IAAjB,CAEA,GAAA,OAAA,CAAa,CAAA,GAAA,CAAA,qBAAA,CAAA,qBAAA,CACX,GAAI,CAACC,OAAO,CAAZ,UAAA,CAAyB,CACvBA,OAAO,CAAPA,UAAAA,CAAAA,EAAAA,CACD,CACDA,OAAO,CAAPA,UAAAA,CAAAA,KAAAA,CAAAA,CAAAA,qBAAAA,CAA2BA,OAAO,CAAPA,UAAAA,CAA3BA,KAAAA,IAAAA,IAAAA,EAAAA,qBAAAA,GAAAA,IAAAA,EAAAA,CAAAA,qBAAAA,CAAAA,CAAAA,CACA,GAAMC,CAAAA,OAAO,CAAA,CAAA,qBAAA,CAAGD,OAAO,CAAPA,UAAAA,CAAH,OAAA,IAAA,IAAA,EAAA,qBAAA,GAAA,IAAA,EAAA,CAAA,qBAAA,CAAb,oBAAA,CACA,GAAMR,CAAAA,MAAM,CAAGS,OAAO,CAAPA,OAAAA,CACX,CAACC,KAAK,CAALA,QAAAA,CAAAA,KAAAA,CAAAA,QAAAA,EAAAA,CAAAA,CAAD,KAAA,EAA+CD,OAAO,CAD3CA,MAAAA,CAEXE,KAAK,CAAGF,OAAO,CAFnB,MAAA,CAGAD,OAAO,CAAPA,UAAAA,CAAAA,KAAAA,CAA2BA,OAAO,CAAPA,UAAAA,CAAAA,KAAAA,CAA3BA,MAAAA,CACD,CAED,GAAA,IAAA,CAAU,CAAA,GAAA,CAAA,qBAAA,CAAA,qBAAA,CACR,GAAI,CAACD,IAAI,CAAT,UAAA,CAAsB,CACpBA,IAAI,CAAJA,UAAAA,CAAAA,EAAAA,CACD,CACDA,IAAI,CAAJA,UAAAA,CAAAA,KAAAA,CAAAA,CAAAA,qBAAAA,CAAwBA,IAAI,CAAJA,UAAAA,CAAxBA,KAAAA,IAAAA,IAAAA,EAAAA,qBAAAA,GAAAA,IAAAA,EAAAA,CAAAA,qBAAAA,CAAAA,CAAAA,CACA,GAAME,CAAAA,QAAO,CAAA,CAAA,qBAAA,CAAGF,IAAI,CAAJA,UAAAA,CAAH,OAAA,IAAA,IAAA,EAAA,qBAAA,GAAA,IAAA,EAAA,CAAA,qBAAA,CAAb,oBAAA,CACA,GAAMP,CAAAA,OAAM,CAAGS,QAAO,CAAPA,OAAAA,CACX,CAACC,KAAK,CAALA,QAAAA,CAAAA,KAAAA,CAAAA,QAAAA,EAAAA,CAAAA,CAAD,KAAA,EAA+CD,QAAO,CAD3CA,MAAAA,CAEXE,KAAK,CAAGF,QAAO,CAFnB,MAAA,CAGAF,IAAI,CAAJA,UAAAA,CAAAA,KAAAA,CAAwBA,IAAI,CAAJA,UAAAA,CAAAA,KAAAA,CAAxBA,OAAAA,CACD,CAED,MACE,CAAA,KAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,QAAA,CAAA,CAAoB,GAAG,CAAEK,KAAK,CAACC,GAA/B,CAAA,CAAA,qBAAA,CAAA,CADF,KACE,CADF,CA5BF,CAAO,CAAP,CALF,CAAA,CAyCA,cAAA,CAAA,OAAA","sourcesContent":["import cloneDeep from 'lodash.clonedeep';\nimport React from 'react';\nimport PresenceTransition from './PresenceTransition';\nimport type { ISupportedTransitions, ITransitionConfig } from './types';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\ninterface IStaggerConfig {\n  offset: number;\n  reverse?: boolean;\n}\n\nexport interface IStaggerStyleProps extends ISupportedTransitions {\n  transition?: ITransitionConfig & { stagger?: IStaggerConfig };\n}\n\ninterface IStaggerProps {\n  children: any;\n  /**\n   * Initial styles before the transition starts\n   */\n  initial?: ISupportedTransitions;\n  /**\n   * The styles to which each child should animate to while entering.\n   */\n  animate?: IStaggerStyleProps;\n  /**\n   * The styles to which each child should animate to while exiting.\n   */\n  exit?: IStaggerStyleProps;\n  /**\n   * Determines whether to start the animation\n   */\n  visible?: boolean;\n}\n\nconst defaultStaggerConfig: IStaggerConfig = { offset: 0, reverse: false };\n\nconst Stagger = ({ children, ...restProps }: IStaggerProps) => {\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(restProps)) {\n    return null;\n  }\n  return React.Children.map(children, (child, index) => {\n    const clonedAnimationConfig = cloneDeep(restProps);\n    const { animate, exit } = clonedAnimationConfig;\n\n    if (animate) {\n      if (!animate.transition) {\n        animate.transition = {};\n      }\n      animate.transition.delay = animate.transition.delay ?? 0;\n      const stagger = animate.transition.stagger ?? defaultStaggerConfig;\n      const offset = stagger.reverse\n        ? (React.Children.count(children) - 1 - index) * stagger.offset\n        : index * stagger.offset;\n      animate.transition.delay = animate.transition.delay + offset;\n    }\n\n    if (exit) {\n      if (!exit.transition) {\n        exit.transition = {};\n      }\n      exit.transition.delay = exit.transition.delay ?? 0;\n      const stagger = exit.transition.stagger ?? defaultStaggerConfig;\n      const offset = stagger.reverse\n        ? (React.Children.count(children) - 1 - index) * stagger.offset\n        : index * stagger.offset;\n      exit.transition.delay = exit.transition.delay + offset;\n    }\n\n    return (\n      <PresenceTransition key={child.key} {...clonedAnimationConfig}>\n        {child}\n      </PresenceTransition>\n    );\n  });\n};\n\nexport default Stagger;\n"]},"metadata":{},"sourceType":"module"}