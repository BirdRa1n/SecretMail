{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";var _excluded=[\"children\",\"elementType\",\"isFocusable\",\"style\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{mergeProps as $9BxnE$mergeProps}from\"@react-aria/utils\";import $9BxnE$react,{useState as $9BxnE$useState,useMemo as $9BxnE$useMemo}from\"react\";import{useFocus as $9BxnE$useFocus}from\"@react-aria/interactions\";function $parcel$export(e,n,v,s){Object.defineProperty(e,n,{get:v,set:s,enumerable:true,configurable:true});}var $5c3e21d68f1c4674$exports={};$parcel$export($5c3e21d68f1c4674$exports,\"useVisuallyHidden\",function(){return $5c3e21d68f1c4674$export$a966af930f325cab;});$parcel$export($5c3e21d68f1c4674$exports,\"VisuallyHidden\",function(){return $5c3e21d68f1c4674$export$439d29a4e110a164;});var $5c3e21d68f1c4674$var$styles={border:0,clip:'rect(0 0 0 0)',clipPath:'inset(50%)',height:1,margin:'0 -1px -1px 0',overflow:'hidden',padding:0,position:'absolute',width:1,whiteSpace:'nowrap'};function $5c3e21d68f1c4674$export$a966af930f325cab(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var style=props.style,isFocusable=props.isFocusable;var _$9BxnE$useState=$9BxnE$useState(false),_$9BxnE$useState2=_slicedToArray(_$9BxnE$useState,2),isFocused=_$9BxnE$useState2[0],setFocused=_$9BxnE$useState2[1];var _$9BxnE$useFocus=$9BxnE$useFocus({isDisabled:!isFocusable,onFocusChange:setFocused}),focusProps=_$9BxnE$useFocus.focusProps;var combinedStyles=$9BxnE$useMemo(function(){if(isFocused)return style;else if(style)return _objectSpread(_objectSpread({},$5c3e21d68f1c4674$var$styles),style);else return $5c3e21d68f1c4674$var$styles;},[isFocused]);return{visuallyHiddenProps:_objectSpread(_objectSpread({},focusProps),{},{style:combinedStyles})};}function $5c3e21d68f1c4674$export$439d29a4e110a164(props){var children=props.children,_props$elementType=props.elementType,Element=_props$elementType===void 0?'div':_props$elementType,isFocusable=props.isFocusable,style=props.style,otherProps=_objectWithoutProperties(props,_excluded);var _$5c3e21d68f1c4674$ex=$5c3e21d68f1c4674$export$a966af930f325cab(props),visuallyHiddenProps=_$5c3e21d68f1c4674$ex.visuallyHiddenProps;return $9BxnE$react.createElement(Element,$9BxnE$mergeProps(otherProps,visuallyHiddenProps),children);}export{$5c3e21d68f1c4674$export$a966af930f325cab as useVisuallyHidden,$5c3e21d68f1c4674$export$439d29a4e110a164 as VisuallyHidden};","map":{"version":3,"sources":["packages/@react-aria/visually-hidden/src/VisuallyHidden.tsx"],"names":[],"mappings":"wnDA8BA,GAAM,CAAA,4BAAM,CAAkB,CAC5B,MAAM,CAAE,CADoB,CAE5B,IAAI,CAAE,eAFsB,CAG5B,QAAQ,CAAE,YAHkB,CAI5B,MAAM,CAAE,CAJoB,CAK5B,MAAM,CAAE,eALoB,CAM5B,QAAQ,CAAE,QANkB,CAO5B,OAAO,CAAE,CAPmB,CAQ5B,QAAQ,CAAE,UARkB,CAS5B,KAAK,CAAE,CATqB,CAU5B,UAAU,CAAE,QAVgB,CAA9B,C,QAqBgB,CAAA,yC,EAAuE,IAArD,CAAA,KAAqD,2DAAxB,EAAwB,CACrF,GACE,CAAA,KADF,CAGI,KAHJ,CAAK,KAAL,CAEE,WAFF,CAGI,KAHJ,CACO,WADP,CAKA,qBAA8B,eAAQ,CAAC,KAAD,CAAtC,sDAAK,SAAL,sBAAgB,UAAhB,sBACA,qBAAmB,eAAQ,CAAC,CAC1B,UAAU,CAAA,CAAG,WADa,CAE1B,aAAa,CAAE,UAFW,CAAD,CAA3B,CAAK,UAAL,kBAAK,UAAL,CAMA,GAAI,CAAA,cAAc,CAAG,cAAO,CAAA,UAAO,CACjC,GAAI,SAAJ,CACE,MAAO,CAAA,KAAP,CADF,IAEO,IAAI,KAAJ,CACL,sCAAW,4BAAX,EAAsB,KAAtB,EADK,IAGL,OAAO,CAAA,4BAAP,CAEH,CAR2B,CAQzB,CAAC,SAAD,CARyB,CAA5B,CAUA,MAAO,CACL,mBAAmB,gCACd,UADc,MAEjB,KAAK,CAAE,cAFU,EADd,CAAP,CAMD,C,QAMe,CAAA,yC,CAAe,K,CAA4B,CAEzD,GAAK,CAAA,QAAL,CAAkF,KAAlF,CAAK,QAAL,oBAAkF,KAAlF,CAAe,WAAf,CAA4B,OAA5B,6BAAsC,KAAtC,oBAA6C,WAA7C,CAAkF,KAAlF,CAA2C,WAA3C,CAA0D,KAA1D,CAAkF,KAAlF,CAAwD,KAAxD,CAAoE,UAApE,0BAAkF,KAAlF,YACA,0BAA4B,yCAAiB,CAAC,KAAD,CAA7C,CAAK,mBAAL,uBAAK,mBAAL,CAEA,MAAM,CAAA,YAAA,CAAA,aAAA,CACH,OADG,CACS,iBAAU,CAAC,UAAD,CAAa,mBAAb,CADnB,CAED,QAFC,CAAN,CAKD,C","sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {mergeProps} from '@react-aria/utils';\nimport React, {CSSProperties, HTMLAttributes, JSXElementConstructor, ReactNode, useMemo, useState} from 'react';\nimport {useFocus} from '@react-aria/interactions';\n\ninterface VisuallyHiddenProps extends HTMLAttributes<HTMLElement> {\n  /** The content to visually hide. */\n  children?: ReactNode,\n\n  /**\n   * The element type for the container.\n   * @default 'div'\n   */\n  elementType?: string | JSXElementConstructor<any>,\n\n  /** Whether the element should become visible on focus, for example skip links. */\n  isFocusable?: boolean\n}\n\nconst styles: CSSProperties = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  clipPath: 'inset(50%)',\n  height: 1,\n  margin: '0 -1px -1px 0',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'absolute',\n  width: 1,\n  whiteSpace: 'nowrap'\n};\n\ninterface VisuallyHiddenAria {\n  visuallyHiddenProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides props for an element that hides its children visually\n * but keeps content visible to assistive technology.\n */\nexport function useVisuallyHidden(props: VisuallyHiddenProps = {}): VisuallyHiddenAria {\n  let {\n    style,\n    isFocusable\n  } = props;\n\n  let [isFocused, setFocused] = useState(false);\n  let {focusProps} = useFocus({\n    isDisabled: !isFocusable,\n    onFocusChange: setFocused\n  });\n\n  // If focused, don't hide the element.\n  let combinedStyles = useMemo(() => {\n    if (isFocused) {\n      return style;\n    } else if (style) {\n      return {...styles, ...style};\n    } else {\n      return styles;\n    }\n  }, [isFocused]);\n\n  return {\n    visuallyHiddenProps: {\n      ...focusProps,\n      style: combinedStyles\n    }\n  };\n}\n\n/**\n * VisuallyHidden hides its children visually, while keeping content visible\n * to screen readers.\n */\nexport function VisuallyHidden(props: VisuallyHiddenProps) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  let {children, elementType: Element = 'div', isFocusable, style, ...otherProps} = props;\n  let {visuallyHiddenProps} = useVisuallyHidden(props);\n\n  return (\n    <Element {...mergeProps(otherProps, visuallyHiddenProps)}>\n      {children}\n    </Element>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}