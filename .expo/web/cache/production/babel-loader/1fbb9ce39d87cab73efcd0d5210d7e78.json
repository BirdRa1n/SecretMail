{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";var _excluded=[\"children\"],_excluded2=[\"_text\"];function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}import React,{memo,forwardRef}from'react';import View from\"react-native-web/dist/exports/View\";import{usePropsResolution}from\"../../../hooks/useThemeProps\";import{getColor}from\"../../../theme\";import{useTheme}from\"../../../hooks\";import{makeStyledComponent}from\"../../../utils/styled\";import{wrapStringChild}from\"../../../utils/wrapStringChild\";import{useSafeArea}from\"../../../hooks/useSafeArea\";import{useNativeBaseConfig}from\"../../../core/NativeBaseContext\";import{useHasResponsiveProps}from\"../../../hooks/useHasResponsiveProps\";var StyledBox=makeStyledComponent(View);var MemoizedGradient;var Box=function Box(_ref,ref){var children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var _useNativeBaseConfig$,_resolvedProps$bg,_resolvedProps$backgr,_resolvedProps$bgColo,_resolvedProps$backgr2;var theme=useTheme();var _usePropsResolution=usePropsResolution('Box',props),_text=_usePropsResolution._text,resolvedProps=_objectWithoutProperties(_usePropsResolution,_excluded2);var Gradient=(_useNativeBaseConfig$=useNativeBaseConfig('NativeBaseConfigProvider').config.dependencies)===null||_useNativeBaseConfig$===void 0?void 0:_useNativeBaseConfig$['linear-gradient'];var safeAreaProps=useSafeArea(resolvedProps);if(useHasResponsiveProps(props)){return null;}if((_resolvedProps$bg=resolvedProps.bg)!==null&&_resolvedProps$bg!==void 0&&_resolvedProps$bg.linearGradient||(_resolvedProps$backgr=resolvedProps.background)!==null&&_resolvedProps$backgr!==void 0&&_resolvedProps$backgr.linearGradient||(_resolvedProps$bgColo=resolvedProps.bgColor)!==null&&_resolvedProps$bgColo!==void 0&&_resolvedProps$bgColo.linearGradient||(_resolvedProps$backgr2=resolvedProps.backgroundColor)!==null&&_resolvedProps$backgr2!==void 0&&_resolvedProps$backgr2.linearGradient){var _resolvedProps$bg2,_resolvedProps$backgr3,_resolvedProps$bgColo2,_resolvedProps$backgr4;var lgrad=((_resolvedProps$bg2=resolvedProps.bg)===null||_resolvedProps$bg2===void 0?void 0:_resolvedProps$bg2.linearGradient)||((_resolvedProps$backgr3=resolvedProps.background)===null||_resolvedProps$backgr3===void 0?void 0:_resolvedProps$backgr3.linearGradient)||((_resolvedProps$bgColo2=resolvedProps.bgColor)===null||_resolvedProps$bgColo2===void 0?void 0:_resolvedProps$bgColo2.linearGradient)||((_resolvedProps$backgr4=resolvedProps.backgroundColor)===null||_resolvedProps$backgr4===void 0?void 0:_resolvedProps$backgr4.linearGradient);if(Gradient){var _lgrad$colors;if(!MemoizedGradient){MemoizedGradient=makeStyledComponent(Gradient);}Gradient=MemoizedGradient;lgrad.colors=(_lgrad$colors=lgrad.colors)===null||_lgrad$colors===void 0?void 0:_lgrad$colors.map(function(color){return getColor(color,theme.colors,theme);});var startObj={x:0,y:0};var endObj={x:0,y:1};if(lgrad.start&&lgrad.start.length===2){startObj={x:lgrad.start[0],y:lgrad.start[1]};}if(lgrad.end&&lgrad.end.length===2){endObj={x:lgrad.end[0],y:lgrad.end[1]};}var backgroundColorProps=['bg','bgColor','background','backgroundColor'];backgroundColorProps.forEach(function(backgroundColorProp){if(backgroundColorProp in safeAreaProps)delete safeAreaProps[backgroundColorProp];});return React.createElement(Gradient,_extends({ref:ref},safeAreaProps,{colors:lgrad.colors,start:startObj,end:endObj,locations:lgrad.locations}),wrapStringChild(children,_text));}}return React.createElement(StyledBox,_extends({ref:ref},safeAreaProps),wrapStringChild(children,_text));};export default memo(forwardRef(Box));","map":{"version":3,"sources":["index.tsx"],"names":["StyledBox","makeStyledComponent","Box","props","theme","useTheme","resolvedProps","usePropsResolution","Gradient","useNativeBaseConfig","safeAreaProps","useSafeArea","useHasResponsiveProps","lgrad","MemoizedGradient","color","getColor","startObj","x","y","endObj","backgroundColorProps","backgroundColorProp","ref","locations","wrapStringChild","memo","forwardRef"],"mappings":"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","sourcesContent":["import React, { memo, forwardRef } from 'react';\nimport { View } from 'react-native';\nimport { usePropsResolution } from '../../../hooks/useThemeProps';\nimport { getColor } from '../../../theme';\nimport { useTheme } from '../../../hooks';\nimport { makeStyledComponent } from '../../../utils/styled';\nimport { wrapStringChild } from '../../../utils/wrapStringChild';\nimport type { IBoxProps, InterfaceBoxProps } from './types';\nimport { useSafeArea } from '../../../hooks/useSafeArea';\nimport { useNativeBaseConfig } from '../../../core/NativeBaseContext';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nconst StyledBox = makeStyledComponent(View);\n\nlet MemoizedGradient: any;\n\nconst Box = ({ children, ...props }: IBoxProps, ref: any) => {\n  // const { _text, ...resolvedProps } = useThemeProps('Box', props);\n  const theme = useTheme();\n  const { _text, ...resolvedProps } = usePropsResolution('Box', props);\n  let Gradient = useNativeBaseConfig('NativeBaseConfigProvider').config\n    .dependencies?.['linear-gradient'];\n\n  const safeAreaProps = useSafeArea(resolvedProps);\n\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(props)) {\n    return null;\n  }\n\n  if (\n    resolvedProps.bg?.linearGradient ||\n    resolvedProps.background?.linearGradient ||\n    resolvedProps.bgColor?.linearGradient ||\n    resolvedProps.backgroundColor?.linearGradient\n  ) {\n    const lgrad =\n      resolvedProps.bg?.linearGradient ||\n      resolvedProps.background?.linearGradient ||\n      resolvedProps.bgColor?.linearGradient ||\n      resolvedProps.backgroundColor?.linearGradient;\n\n    if (Gradient) {\n      if (!MemoizedGradient) {\n        MemoizedGradient = makeStyledComponent(Gradient);\n      }\n\n      Gradient = MemoizedGradient;\n\n      lgrad.colors = lgrad.colors?.map((color: string) => {\n        return getColor(color, theme.colors, theme);\n      });\n      let startObj = { x: 0, y: 0 };\n      let endObj = { x: 0, y: 1 };\n      if (lgrad.start && lgrad.start.length === 2) {\n        startObj = {\n          x: lgrad.start[0],\n          y: lgrad.start[1],\n        };\n      }\n      if (lgrad.end && lgrad.end.length === 2) {\n        endObj = {\n          x: lgrad.end[0],\n          y: lgrad.end[1],\n        };\n      }\n      const backgroundColorProps = [\n        'bg',\n        'bgColor',\n        'background',\n        'backgroundColor',\n      ];\n      backgroundColorProps.forEach((backgroundColorProp) => {\n        if (backgroundColorProp in safeAreaProps)\n          delete safeAreaProps[backgroundColorProp];\n      });\n\n      return (\n        <Gradient\n          ref={ref}\n          {...safeAreaProps}\n          colors={lgrad.colors}\n          start={startObj}\n          end={endObj}\n          locations={lgrad.locations}\n        >\n          {/* {React.Children.map(children, (child) =>\n            typeof child === 'string' || typeof child === 'number' ? (\n              <Text {..._text}>{child}</Text>\n            ) : (\n              child\n            )\n          )} */}\n          {wrapStringChild(children, _text)}\n        </Gradient>\n      );\n    }\n  }\n  return (\n    <StyledBox ref={ref} {...safeAreaProps}>\n      {/* {React.Children.map(children, (child) => {\n        return typeof child === 'string' ||\n          typeof child === 'number' ||\n          (child?.type === React.Fragment &&\n            (typeof child.props?.children === 'string' ||\n              typeof child.props?.children === 'number')) ? (\n          <Text {..._text}>{child}</Text>\n        ) : (\n          child\n        );\n      })} */}\n      {wrapStringChild(children, _text)}\n    </StyledBox>\n  );\n};\n\nexport type { IBoxProps, InterfaceBoxProps };\nexport default memo(forwardRef(Box));\n"]},"metadata":{},"sourceType":"module"}